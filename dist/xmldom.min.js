/*! xmljs 2015-07-15 */
function convertEscapes(a){var b;for(b=-1;a.indexOf("&lt;",b+1)>-1;){var b=a.indexOf("&lt;",b+1),c=a.substr(0,b);c+="<",c+=a.substr(b+4,a.length),a=c}for(b=-1;a.indexOf("&gt;",b+1)>-1;){var b=a.indexOf("&gt;",b+1),c=a.substr(0,b);c+=">",c+=a.substr(b+4,a.length),a=c}for(b=-1;a.indexOf("&amp;",b+1)>-1;){var b=a.indexOf("&amp;",b+1),c=a.substr(0,b);c+="&",c+=a.substr(b+5,a.length),a=c}return a}function convertToEscapes(a){for(var b=-1;a.indexOf("&",b+1)>-1;){b=a.indexOf("&",b+1);var c=a.substr(0,b);c+="&amp;",c+=a.substr(b+1,a.length),a=c}for(b=-1;a.indexOf("<",b+1)>-1;){var b=a.indexOf("<",b+1),c=a.substr(0,b);c+="&lt;",c+=a.substr(b+1,a.length),a=c}for(b=-1;a.indexOf(">",b+1)>-1;){var b=a.indexOf(">",b+1),c=a.substr(0,b);c+="&gt;",c+=a.substr(b+1,a.length),a=c}return a}function _displayElement(a,b){if(null!=a&&"ELEMENT"==a.nodeType){var c=a.tagName,d="";d="<"+c;for(var e=a.getAttributeNames(),f=0;f<e.length;f++){var g=e[f];d=d+" "+g+"=",d=d+'"'+a.getAttribute(g)+'"'}if(d+=">",b+=d,null!=a.children)for(var h=a.children,f=0;f<h.length;f++){var i=h[f];if("COMMENT"==i.nodeType)b=b+"<!--"+i.content+"-->";else if("TEXT"==i.nodeType){var j=trim(i.content,!0,!0);b+=i.content}else if("CDATA"==i.nodeType){var j=trim(i.content,!0,!0);b=b+"<![CDATA["+j+"]]>"}else b=_displayElement(i,b)}return b=b+"</"+c+">"}}function firstWhiteChar(a,b){if(isEmpty(a))return-1;for(;b<a.length;){if(-1!=whitespace.indexOf(a.charAt(b)))return b;b++}return a.length}function isEmpty(a){return null==a||0==a.length}function trim(a,b,c){if(isEmpty(a))return"";null==b&&(b=!0),null==c&&(c=!0);var d=0,e=0,f=0,g=0;if(1==b)for(;f<a.length&&-1!=whitespace.indexOf(a.charAt(f++));)d++;if(1==c)for(g=a.length-1;g>=d&&-1!=whitespace.indexOf(a.charAt(g--));)e++;return a.substring(d,a.length-e)}function XMLDoc(a,b){return this.topNode=null,this.errFn=b,this.createXMLNode=_XMLDoc_createXMLNode,this.error=_XMLDoc_error,this.getUnderlyingXMLText=_XMLDoc_getUnderlyingXMLText,this.handleNode=_XMLDoc_handleNode,this.hasErrors=!1,this.insertNodeAfter=_XMLDoc_insertNodeAfter,this.insertNodeInto=_XMLDoc_insertNodeInto,this.loadXML=_XMLDoc_loadXML,this.parse=_XMLDoc_parse,this.parseAttribute=_XMLDoc_parseAttribute,this.parseDTD=_XMLDoc_parseDTD,this.parsePI=_XMLDoc_parsePI,this.parseTag=_XMLDoc_parseTag,this.removeNodeFromTree=_XMLDoc_removeNodeFromTree,this.replaceNodeContents=_XMLDoc_replaceNodeContents,this.selectNode=_XMLDoc_selectNode,this.selectNodeText=_XMLDoc_selectNodeText,this.source=a,this.parse()?null!=this.topNode?this.error("expected close "+this.topNode.tagName):!0:void 0}function _XMLDoc_createXMLNode(a){return new XMLDoc(a,this.errFn).docNode}function _XMLDoc_error(a){return this.hasErrors=!0,this.errFn?this.errFn("ERROR: "+a):this.onerror&&this.onerror("ERROR: "+a),0}function _XMLDoc_getTagNameParams(a,b){var c,d=-1,e=a.indexOf("["),f=[];return e>=0&&(c=a.indexOf("]"),c>=0?d=a.substr(e+1,c-e-1):b.error("expected ] near "+a),a=a.substr(0,e),isNaN(d)&&"*"!=d?(f=d.substr(1,d.length-1),f=f.split("="),f[1]&&(e=f[1].indexOf('"'),f[1]=f[1].substr(e+1,f[1].length-1),c=f[1].indexOf('"'),c>=0?f[1]=f[1].substr(0,c):b.error('expected " near '+a)),d=-1):"*"==d&&(d=-1)),[a,d,f[0],f[1]]}function _XMLDoc_getUnderlyingXMLText(){var a="";return a+='<?xml version="1.0"?>',null!=this.docNode?a=_displayElement(this.docNode,a):void 0}function _XMLDoc_handleNode(a){if("COMMENT"==a.nodeType&&null!=this.topNode)return this.topNode.addElement(a);if("TEXT"==a.nodeType||"CDATA"==a.nodeType)return null==this.topNode?""==trim(a.content,!0,!1)?!0:this.error("expected document node, found: "+a):this.topNode.addElement(a);if("OPEN"==a.nodeType||"SINGLE"==a.nodeType){var b=!1;return null==this.topNode?(this.docNode=a,a.parent=null,b=!0):b=this.topNode.addElement(a),b&&"SINGLE"!=a.nodeType&&(this.topNode=a),a.nodeType="ELEMENT",b}if("CLOSE"==a.nodeType){if(null==this.topNode)return this.error("close tag without open: "+a.toString());if(a.tagName!=this.topNode.tagName)return this.error("expected closing "+this.topNode.tagName+", found closing "+a.tagName);this.topNode=this.topNode.getParent()}return!0}function _XMLDoc_insertNodeAfter(a,b){var c=this.getUnderlyingXMLText(),d=a.getUnderlyingXMLText(),e=c.indexOf(d)+d.length,f=c.substr(0,e);f+=b.getUnderlyingXMLText(),f+=c.substr(e);var g=new XMLDoc(f,this.errFn);return g}function _XMLDoc_insertNodeInto(a,b){var c=this.getUnderlyingXMLText(),d=a.getUnderlyingXMLText(),e=d.indexOf(">")+1,f=c.indexOf(d)+e,g=c.substr(0,f);g+=b.getUnderlyingXMLText(),g+=c.substr(f);var h=new XMLDoc(g,this.errFn);return h}function _XMLDoc_loadXML(a){return this.topNode=null,this.hasErrors=!1,this.source=a,this.parse()}function _XMLDoc_parse(){var a=0;for(err=!1;!err;){var b,c,d="",e=this.source.indexOf("<",a),f=1;if(-1==e)break;b=e;var g=this.source.substring(a,b);if(0!=g.length&&(err=!this.handleNode(new XMLNode("TEXT",this,g))),e!=this.source.indexOf("<?",a))if(e!=this.source.indexOf("<!DOCTYPE",a)){if(e==this.source.indexOf("<!--",a)&&(f=4,d="--"),e==this.source.indexOf("<![CDATA[",a)&&(f=9,d="]]"),e=this.source.indexOf(d+">",e),-1==e)return this.error("expected closing tag sequence: "+d+">");c=e+d.length,g=this.source.substring(b+1,c);var h=this.parseTag(g);h&&(err=!this.handleNode(h)),a=c+1}else a=this.parseDTD(this.source,e+9),0==a&&(err=!0);else a=this.parsePI(this.source,a+2),0==a&&(err=!0)}return!err}function _XMLDoc_parseAttribute(a,b,c){for(;b<a.length&&-1!=whitespace.indexOf(a.charAt(b));)b++;if(b>=a.length)return b;for(var d=b;b<a.length&&"="!=a.charAt(b);)b++;var e="attributes must have values";if(b>=a.length)return this.error(e);for(var f=trim(a.substring(d,b++),!1,!0);b<a.length&&-1!=whitespace.indexOf(a.charAt(b));)b++;if(b>=a.length)return this.error(e);e="attribute values must be in quotes";var g=a.charAt(b++);if(-1==quotes.indexOf(g))return this.error(e);for(d=b;b<a.length&&a.charAt(b)!=g;)b++;return b>=a.length?this.error(e):c.addAttribute(f,trim(a.substring(d,b++),!1,!0))?b:0}function _XMLDoc_parseDTD(a,b){var c=a.indexOf(">",b);if(-1==c)return this.error("error in DTD: expected '>'");var d="",e=a.indexOf("[",b);for(-1!=e&&c>e&&(d="]");;){var f=a.indexOf(d+">",b);if(-1==f)return this.error("expected closing tag sequence: "+d+">");if(b=f+d.length+1,"]]>"!=a.substring(f-1,f+2))break}return b}function _XMLDoc_parsePI(a,b){var c=a.indexOf("?>",b);return c+2}function _XMLDoc_parseTag(a){if(0==a.indexOf("!--"))return new XMLNode("COMMENT",this,a.substring(3,a.length-2));if(0==a.indexOf("![CDATA["))return new XMLNode("CDATA",this,a.substring(8,a.length-2));var b=new XMLNode;if(b.doc=this,"/"==a.charAt(0)?(b.nodeType="CLOSE",a=a.substring(1)):b.nodeType="OPEN","/"==a.charAt(a.length-1)){if("CLOSE"==b.nodeType)return this.error("singleton close tag");b.nodeType="SINGLE",a=a.substring(0,a.length-1)}if("CLOSE"!=b.nodeType&&(b.attributes=new Array),"OPEN"==b.nodeType&&(b.children=new Array),a=trim(a,!0,!0),0==a.length)return this.error("empty tag");var c=firstWhiteChar(a,0);if(-1==c)return b.tagName=a,b;b.tagName=a.substring(0,c);for(var d=c;d<a.length;)if(d=this.parseAttribute(a,d,b),0==this.pos)return null;return b}function _XMLDoc_removeNodeFromTree(a){var b=this.getUnderlyingXMLText(),c=a.getUnderlyingXMLText(),d=b.indexOf(c),e=b.substr(0,d);e+=b.substr(d+c.length);var f=new XMLDoc(e,this.errFn);return f}function _XMLDoc_replaceNodeContents(a,b){var c=this.createXMLNode("<X>"+b+"</X>");return a.children=c.children,this}function _XMLDoc_selectNode(a){a=trim(a,!0,!0);var b,c,d,e,f,g,h,i,j;if(b=c=this.source?this.docNode:this,!a)return c;if(0==a.indexOf("/")&&(a=a.substr(1)),a=a.replace(d,""),g=a.split("/"),d=g[0],d&&(0==a.indexOf("/")&&(a=a.substr(1)),a=a.replace(d,""),e=_XMLDoc_getTagNameParams(d,this),d=e[0],f=e[1],h=e[2],i=e[3],c="*"==d?c.getElements():c.getElements(d),c.length))if(0>f){b=c;for(var k=0;k<b.length;){if(j=h&&b[k].getAttribute(h)!=i?!1:!0,j&&(c=b[k].selectNode(a)))return c;k++}}else if(f<c.length&&(c=c[f].selectNode(a)))return c}function _XMLDoc_selectNodeText(a){var b=this.selectNode(a);return null!=b?b.getText():null}function XMLNode(a,b,c){"TEXT"==a||"CDATA"==a||"COMMENT"==a?this.content=c:this.content=null,this.attributes=null,this.children=null,this.doc=b,this.nodeType=a,this.parent="",this.tagName="",this.addAttribute=_XMLNode_addAttribute,this.addElement=_XMLNode_addElement,this.getAttribute=_XMLNode_getAttribute,this.getAttributeNames=_XMLNode_getAttributeNames,this.getElementById=_XMLNode_getElementById,this.getElements=_XMLNode_getElements,this.getText=_XMLNode_getText,this.getParent=_XMLNode_getParent,this.getUnderlyingXMLText=_XMLNode_getUnderlyingXMLText,this.removeAttribute=_XMLNode_removeAttribute,this.selectNode=_XMLDoc_selectNode,this.selectNodeText=_XMLDoc_selectNodeText,this.toString=_XMLNode_toString}function _XMLNode_addAttribute(a,b){return this.attributes["_"+a]=b,!0}function _XMLNode_addElement(a){return a.parent=this,this.children[this.children.length]=a,!0}function _XMLNode_getAttribute(a){return null==this.attributes?null:this.attributes["_"+a]}function _XMLNode_getAttributeNames(){if(null==this.attributes){var a=new Array;return a}var b=new Array;for(var c in this.attributes)b[b.length]=c.substring(1);return b}function _XMLNode_getElementById(a){var b,c=this;if(c.getAttribute("id")==a)return c;for(var d=c.getElements(),e=0;e<d.length;){var f=d[e];if(b=f.getElementById(a),null!=b)break;e++}return b}function _XMLNode_getElements(a){if(null==this.children){var b=new Array;return b}for(var c=new Array,d=0;d<this.children.length;d++)"ELEMENT"!=this.children[d].nodeType||null!=a&&this.children[d].tagName!=a||(c[c.length]=this.children[d]);return c}function _XMLNode_getText(){if("ELEMENT"==this.nodeType){if(null==this.children)return null;for(var a="",b=0;b<this.children.length;b++){var c=this.children[b].getText();a+=null==c?"":c}return a}return"TEXT"==this.nodeType?convertEscapes(this.content):this.content}function _XMLNode_getParent(){return this.parent}function _XMLNode_getUnderlyingXMLText(){var a="";return a=_displayElement(this,a)}function _XMLNode_removeAttribute(a){if(null==a)return this.doc.error("You must pass an attribute name into the removeAttribute function");var b=this.getAttributeNames(),c=b.length,d=new Array;for(intLoop=0;intLoop<c;intLoop++)d[intLoop]=this.getAttribute(b[intLoop]);for(this.attributes=new Array,intLoop=0;intLoop<c;intLoop++)b[intLoop]!=a&&this.addAttribute(b[intLoop],d[intLoop]);return!0}function _XMLNode_toString(){return""+this.nodeType+":"+("TEXT"==this.nodeType||"CDATA"==this.nodeType||"COMMENT"==this.nodeType?this.content:this.tagName)}var whitespace="\n\r	 ",quotes="\"'";