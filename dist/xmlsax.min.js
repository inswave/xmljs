/*! xmljs 2015-07-15 */
!function(a){function b(a){return null==a||0==a.length}function c(a,c,d){if(b(a))return"";null==c&&(c=!0),null==d&&(d=!0);var e=0,g=0,h=0,i=0;if(1==c)for(;h<a.length&&-1!=f.indexOf(a.charAt(h++));)e++;if(1==d)for(i=a.length-1;i>=e&&-1!=f.indexOf(a.charAt(i--));)g++;return a.substring(e,a.length-g)}function d(a){var b=/&/g,c=/</g,d=/>/g,e=/"/g,f=/'/g;return a=a.replace(b,"&amp;"),a=a.replace(c,"&lt;"),a=a.replace(d,"&gt;"),a=a.replace(e,"&quot;"),a=a.replace(f,"&apos;")}function e(a){var b=/&amp;/g,c=/&lt;/g,d=/&gt;/g,e=/&quot;/g,f=/&apos;/g;return a=a.replace(b,"&"),a=a.replace(c,"<"),a=a.replace(d,">"),a=a.replace(e,'"'),a=a.replace(f,"'")}var f="\n\r	 ",g=a.XMLP=function(a){a=SAXStrings.replace(a,null,null,"\r\n","\n"),a=SAXStrings.replace(a,null,null,"\r","\n"),this.m_xml=a,this.m_iP=0,this.m_iState=g._STATE_PROLOG,this.m_stack=new Stack,this._clearAttributes()};g._NONE=0,g._ELM_B=1,g._ELM_E=2,g._ELM_EMP=3,g._ATT=4,g._TEXT=5,g._ENTITY=6,g._PI=7,g._CDATA=8,g._COMMENT=9,g._DTD=10,g._ERROR=11,g._CONT_XML=0,g._CONT_ALT=1,g._ATT_NAME=0,g._ATT_VAL=1,g._STATE_PROLOG=1,g._STATE_DOCUMENT=2,g._STATE_MISC=3,g._errs=new Array,g._errs[g.ERR_CLOSE_PI=0]="PI: missing closing sequence",g._errs[g.ERR_CLOSE_DTD=1]="DTD: missing closing sequence",g._errs[g.ERR_CLOSE_COMMENT=2]="Comment: missing closing sequence",g._errs[g.ERR_CLOSE_CDATA=3]="CDATA: missing closing sequence",g._errs[g.ERR_CLOSE_ELM=4]="Element: missing closing sequence",g._errs[g.ERR_CLOSE_ENTITY=5]="Entity: missing closing sequence",g._errs[g.ERR_PI_TARGET=6]="PI: target is required",g._errs[g.ERR_ELM_EMPTY=7]="Element: cannot be both empty and closing",g._errs[g.ERR_ELM_NAME=8]='Element: name must immediatly follow "<"',g._errs[g.ERR_ELM_LT_NAME=9]='Element: "<" not allowed in element names',g._errs[g.ERR_ATT_VALUES=10]="Attribute: values are required and must be in quotes",g._errs[g.ERR_ATT_LT_NAME=11]='Element: "<" not allowed in attribute names',g._errs[g.ERR_ATT_LT_VALUE=12]='Attribute: "<" not allowed in attribute values',g._errs[g.ERR_ATT_DUP=13]="Attribute: duplicate attributes not allowed",g._errs[g.ERR_ENTITY_UNKNOWN=14]="Entity: unknown entity",g._errs[g.ERR_INFINITELOOP=15]="Infininte loop",g._errs[g.ERR_DOC_STRUCTURE=16]="Document: only comments, processing instructions, or whitespace allowed outside of document element",g._errs[g.ERR_ELM_NESTING=17]="Element: must be nested correctly",g.prototype._addAttribute=function(a,b){this.m_atts[this.m_atts.length]=new Array(a,b)},g.prototype._checkStructure=function(a){if(g._STATE_PROLOG==this.m_iState){if((g._TEXT==a||g._ENTITY==a)&&-1!=SAXStrings.indexOfNonWhitespace(this.getContent(),this.getContentBegin(),this.getContentEnd()))return this._setErr(g.ERR_DOC_STRUCTURE);(g._ELM_B==a||g._ELM_EMP==a)&&(this.m_iState=g._STATE_DOCUMENT)}if(g._STATE_DOCUMENT==this.m_iState){if((g._ELM_B==a||g._ELM_EMP==a)&&this.m_stack.push(this.getName()),g._ELM_E==a||g._ELM_EMP==a){var b=this.m_stack.pop();if(null==b||b!=this.getName())return this._setErr(g.ERR_ELM_NESTING)}if(0==this.m_stack.count())return this.m_iState=g._STATE_MISC,a}if(g._STATE_MISC==this.m_iState){if(g._ELM_B==a||g._ELM_E==a||g._ELM_EMP==a||g.EVT_DTD==a)return this._setErr(g.ERR_DOC_STRUCTURE);if((g._TEXT==a||g._ENTITY==a)&&-1!=SAXStrings.indexOfNonWhitespace(this.getContent(),this.getContentBegin(),this.getContentEnd()))return this._setErr(g.ERR_DOC_STRUCTURE)}return a},g.prototype._clearAttributes=function(){this.m_atts=new Array},g.prototype._findAttributeIndex=function(a){for(var b=0;b<this.m_atts.length;b++)if(this.m_atts[b][g._ATT_NAME]==a)return b;return-1},g.prototype.getAttributeCount=function(){return this.m_atts?this.m_atts.length:0},g.prototype.getAttributeName=function(a){return 0>a||a>=this.m_atts.length?null:this.m_atts[a][g._ATT_NAME]},g.prototype.getAttributeValue=function(a){return 0>a||a>=this.m_atts.length?null:e(this.m_atts[a][g._ATT_VAL])},g.prototype.getAttributeValueByName=function(a){return this.getAttributeValue(this._findAttributeIndex(a))},g.prototype.getColumnNumber=function(){return SAXStrings.getColumnNumber(this.m_xml,this.m_iP)},g.prototype.getContent=function(){return this.m_cSrc==g._CONT_XML?this.m_xml:this.m_cAlt},g.prototype.getContentBegin=function(){return this.m_cB},g.prototype.getContentEnd=function(){return this.m_cE},g.prototype.getLineNumber=function(){return SAXStrings.getLineNumber(this.m_xml,this.m_iP)},g.prototype.getName=function(){return this.m_name},g.prototype.next=function(){return this._checkStructure(this._parse())},g.prototype._parse=function(){if(this.m_iP==this.m_xml.length)return g._NONE;var a=this.m_xml.substr(this.m_iP,9),b=a.charAt(0);if("<"==b){var c=a.charAt(1);if("?"==c)return this._parsePI(this.m_iP+2);if("!"!=c)return this._parseElement(this.m_iP+1);if("<!DOCTYPE"==a)return this._parseDTD(this.m_iP+9);if("-"==a.charAt(2)&&"-"==a.charAt(3))return this._parseComment(this.m_iP+4);if("<![CDATA["==a)return this._parseCDATA(this.m_iP+9)}else if("&"==b)return this._parseEntity(this.m_iP+1);return this._parseText(this.m_iP)},g.prototype._parseAttribute=function(a,b){var c,d,e,f,h,i,j,k;return this.m_cAlt="",c=SAXStrings.indexOfNonWhitespace(this.m_xml,a,b),-1==c||c>=b?c:(e=this.m_xml.indexOf("=",c),-1==e||e>b?this._setErr(g.ERR_ATT_VALUES):(d=SAXStrings.lastIndexOfNonWhitespace(this.m_xml,c,e),f=SAXStrings.indexOfNonWhitespace(this.m_xml,e+1,b),-1==f||f>b?this._setErr(g.ERR_ATT_VALUES):(i=this.m_xml.charAt(f),-1==SAXStrings.QUOTES.indexOf(i)?this._setErr(g.ERR_ATT_VALUES):(h=this.m_xml.indexOf(i,f+1),-1==h||h>b?this._setErr(g.ERR_ATT_VALUES):(j=this.m_xml.substring(c,d+1),k=this.m_xml.substring(f+1,h),-1!=j.indexOf("<")?this._setErr(g.ERR_ATT_LT_NAME):-1!=k.indexOf("<")?this._setErr(g.ERR_ATT_LT_VALUE):(k=SAXStrings.replace(k,null,null,"\n"," "),k=SAXStrings.replace(k,null,null,"	"," "),iRet=this._replaceEntities(k),iRet==g._ERROR?iRet:(k=this.m_cAlt,-1!=this._findAttributeIndex(j)?this._setErr(g.ERR_ATT_DUP):(this._addAttribute(j,k),this.m_iP=h+2,g._ATT))))))))},g.prototype._parseCDATA=function(a){var b=this.m_xml.indexOf("]]>",a);return-1==b?this._setErr(g.ERR_CLOSE_CDATA):(this._setContent(g._CONT_XML,a,b),this.m_iP=b+3,g._CDATA)},g.prototype._parseComment=function(a){var b=this.m_xml.indexOf("-->",a);return-1==b?this._setErr(g.ERR_CLOSE_COMMENT):(this._setContent(g._CONT_XML,a,b),this.m_iP=b+3,g._COMMENT)},g.prototype._parseDTD=function(a){var b,c,d,e;if(b=this.m_xml.indexOf(">",a),-1==b)return this._setErr(g.ERR_CLOSE_DTD);for(d=this.m_xml.indexOf("[",a),c=-1!=d&&b>d?"]>":">";;){if(b==e)return this._setErr(g.ERR_INFINITELOOP);if(e=b,b=this.m_xml.indexOf(c,a),-1==b)return this._setErr(g.ERR_CLOSE_DTD);if("]]>"!=this.m_xml.substring(b-1,b+2))break}return this.m_iP=b+c.length,g._DTD},g.prototype._parseElement=function(a){var b,c,d,e,f,h,i,j=!1,k=!1;c=b=-1;for(var l=a,m=this.m_xml.length;m>l;l++){var n=this.m_xml.charAt(l);if(j)k||"'"!=n?k&&'"'==n&&(j=!1):j=!1;else if("'"==n)j=!0,k=!1;else if('"'==n)j=!0,k=!0;else if(">"==n){c=b=l;break}}if(-1==b)return this._setErr(g.ERR_CLOSE_ELM);if("/"==this.m_xml.charAt(a)?(f=g._ELM_E,a++):f=g._ELM_B,"/"==this.m_xml.charAt(b-1)){if(f==g._ELM_E)return this._setErr(g.ERR_ELM_EMPTY);f=g._ELM_EMP,c--}if(c=SAXStrings.lastIndexOfNonWhitespace(this.m_xml,a,c),b-a!=1&&SAXStrings.indexOfNonWhitespace(this.m_xml,a,c)!=a)return this._setErr(g.ERR_ELM_NAME);if(this._clearAttributes(),d=SAXStrings.indexOfWhitespace(this.m_xml,a,c),-1==d)d=c+1;else for(this.m_iP=d;this.m_iP<c;){if(this.m_iP==i)return this._setErr(g.ERR_INFINITELOOP);if(i=this.m_iP,e=this._parseAttribute(this.m_iP,c),e==g._ERROR)return e}return h=this.m_xml.substring(a,d),-1!=h.indexOf("<")?this._setErr(g.ERR_ELM_LT_NAME):(this.m_name=h,this.m_iP=b+1,f)},g.prototype._parseEntity=function(a){var b=this.m_xml.indexOf(";",a);return-1==b?this._setErr(g.ERR_CLOSE_ENTITY):(this.m_iP=b+1,this._replaceEntity(this.m_xml,a,b))},g.prototype._parsePI=function(a){var b,c,d,e,f;return b=this.m_xml.indexOf("?>",a),-1==b?this._setErr(g.ERR_CLOSE_PI):(c=SAXStrings.indexOfNonWhitespace(this.m_xml,a,b),-1==c?this._setErr(g.ERR_PI_TARGET):(d=SAXStrings.indexOfWhitespace(this.m_xml,c,b),-1==d&&(d=b),e=SAXStrings.indexOfNonWhitespace(this.m_xml,d,b),-1==e&&(e=b),f=SAXStrings.lastIndexOfNonWhitespace(this.m_xml,e,b),-1==f&&(f=b-1),this.m_name=this.m_xml.substring(c,d),this._setContent(g._CONT_XML,e,f+1),this.m_iP=b+2,g._PI))},g.prototype._parseText=function(a){var b,c;return b=this.m_xml.indexOf("<",a),-1==b&&(b=this.m_xml.length),c=this.m_xml.substring(a,b).indexOf("&"),-1!=c&&b>=c+a&&(b=c+a),this._setContent(g._CONT_XML,a,b),this.m_iP=b,g._TEXT},g.prototype._replaceEntities=function(a,b,c){if(SAXStrings.isEmpty(a))return"";b=b||0,c=c||a.length;var d,e,f="";for(d=a.indexOf("&",b),e=b;d>0&&c>d;){if(f+=a.substring(e,d),e=a.indexOf(";",d)+1,0==e||e>c)return this._setErr(g.ERR_CLOSE_ENTITY);if(iRet=this._replaceEntity(a,d+1,e-1),iRet==g._ERROR)return iRet;f+=this.m_cAlt,d=a.indexOf("&",e)}return e!=c&&(f+=a.substring(e,c)),this._setContent(g._CONT_ALT,f),g._ENTITY},g.prototype._replaceEntity=function(a,b,c){if(SAXStrings.isEmpty(a))return-1;switch(b=b||0,c=c||a.length,a.substring(b,c)){case"amp":strEnt="&";break;case"lt":strEnt="<";break;case"gt":strEnt=">";break;case"apos":strEnt="'";break;case"quot":strEnt='"';break;default:if("#"!=a.charAt(b))return this._setErr(g.ERR_ENTITY_UNKNOWN);strEnt=String.fromCharCode(parseInt(a.substring(b+1,c)))}return this._setContent(g._CONT_ALT,strEnt),g._ENTITY},g.prototype._setContent=function(a){var b=arguments;g._CONT_XML==a?(this.m_cAlt=null,this.m_cB=b[1],this.m_cE=b[2]):(this.m_cAlt=b[1],this.m_cB=0,this.m_cE=b[1].length),this.m_cSrc=a},g.prototype._setErr=function(a){var b=g._errs[a];return this.m_cAlt=b,this.m_cB=0,this.m_cE=b.length,this.m_cSrc=g._CONT_ALT,g._ERROR},SAXDriver=function(){this.m_hndDoc=null,this.m_hndErr=null,this.m_hndLex=null},SAXDriver.DOC_B=1,SAXDriver.DOC_E=2,SAXDriver.ELM_B=3,SAXDriver.ELM_E=4,SAXDriver.CHARS=5,SAXDriver.PI=6,SAXDriver.CD_B=7,SAXDriver.CD_E=8,SAXDriver.CMNT=9,SAXDriver.DTD_B=10,SAXDriver.DTD_E=11,SAXDriver.prototype.parse=function(a){var b=new g(a);this.m_hndDoc&&this.m_hndDoc.setDocumentLocator&&this.m_hndDoc.setDocumentLocator(this),this.m_parser=b,this.m_bErr=!1,this.m_bErr||this._fireEvent(SAXDriver.DOC_B),this._parseLoop(),this.m_bErr||this._fireEvent(SAXDriver.DOC_E),this.m_xml=null,this.m_iP=0},SAXDriver.prototype.setDocumentHandler=function(a){this.m_hndDoc=a},SAXDriver.prototype.setErrorHandler=function(a){this.m_hndErr=a},SAXDriver.prototype.setLexicalHandler=function(a){this.m_hndLex=a},SAXDriver.prototype.getColumnNumber=function(){return this.m_parser.getColumnNumber()},SAXDriver.prototype.getLineNumber=function(){return this.m_parser.getLineNumber()},SAXDriver.prototype.getMessage=function(){return this.m_strErrMsg},SAXDriver.prototype.getPublicId=function(){return null},SAXDriver.prototype.getSystemId=function(){return null},SAXDriver.prototype.getLength=function(){return this.m_parser.getAttributeCount()},SAXDriver.prototype.getName=function(a){return this.m_parser.getAttributeName(a)},SAXDriver.prototype.getValue=function(a){return this.m_parser.getAttributeValue(a)},SAXDriver.prototype.getValueByName=function(a){return this.m_parser.getAttributeValueByName(a)},SAXDriver.prototype._fireError=function(a){this.m_strErrMsg=a,this.m_bErr=!0,this.m_hndErr&&this.m_hndErr.fatalError&&this.m_hndErr.fatalError(this)},SAXDriver.prototype._fireEvent=function(a){var b,c,d=arguments,e=d.length-1;this.m_bErr||(SAXDriver.DOC_B==a?(c="startDocument",b=this.m_hndDoc):SAXDriver.DOC_E==a?(c="endDocument",b=this.m_hndDoc):SAXDriver.ELM_B==a?(c="startElement",b=this.m_hndDoc):SAXDriver.ELM_E==a?(c="endElement",b=this.m_hndDoc):SAXDriver.CHARS==a?(c="characters",b=this.m_hndDoc):SAXDriver.PI==a?(c="processingInstruction",b=this.m_hndDoc):SAXDriver.CD_B==a?(c="startCDATA",b=this.m_hndLex):SAXDriver.CD_E==a?(c="endCDATA",b=this.m_hndLex):SAXDriver.CMNT==a&&(c="comment",b=this.m_hndLex),b&&b[c]&&(0==e?b[c]():1==e?b[c](d[1]):2==e?b[c](d[1],d[2]):3==e&&b[c](d[1],d[2],d[3])))},SAXDriver.prototype._parseLoop=function(a){var b,a;for(a=this.m_parser;!this.m_bErr;)if(b=a.next(),b==g._ELM_B)this._fireEvent(SAXDriver.ELM_B,a.getName(),this);else if(b==g._ELM_E)this._fireEvent(SAXDriver.ELM_E,a.getName());else if(b==g._ELM_EMP)this._fireEvent(SAXDriver.ELM_B,a.getName(),this),this._fireEvent(SAXDriver.ELM_E,a.getName());else if(b==g._TEXT)this._fireEvent(SAXDriver.CHARS,a.getContent(),a.getContentBegin(),a.getContentEnd()-a.getContentBegin());else if(b==g._ENTITY)this._fireEvent(SAXDriver.CHARS,a.getContent(),a.getContentBegin(),a.getContentEnd()-a.getContentBegin());else if(b==g._PI)this._fireEvent(SAXDriver.PI,a.getName(),a.getContent().substring(a.getContentBegin(),a.getContentEnd()));else if(b==g._CDATA)this._fireEvent(SAXDriver.CD_B),this._fireEvent(SAXDriver.CHARS,a.getContent(),a.getContentBegin(),a.getContentEnd()-a.getContentBegin()),this._fireEvent(SAXDriver.CD_E);else if(b==g._COMMENT)this._fireEvent(SAXDriver.CMNT,a.getContent(),a.getContentBegin(),a.getContentEnd()-a.getContentBegin());else if(b==g._DTD);else if(b==g._ERROR)this._fireError(a.getContent());else if(b==g._NONE)return},SAXStrings=function(){},SAXStrings.WHITESPACE=" 	\n\r",SAXStrings.QUOTES="\"'",SAXStrings.getColumnNumber=function(a,b){if(SAXStrings.isEmpty(a))return-1;b=b||a.length;var c=a.substring(0,b).split("\n");c[c.length-1];c.length--;var d=c.join("\n").length;return b-d},SAXStrings.getLineNumber=function(a,b){return SAXStrings.isEmpty(a)?-1:(b=b||a.length,a.substring(0,b).split("\n").length)},SAXStrings.indexOfNonWhitespace=function(a,b,c){if(SAXStrings.isEmpty(a))return-1;b=b||0,c=c||a.length;for(var d=b;c>d;d++)if(-1==SAXStrings.WHITESPACE.indexOf(a.charAt(d)))return d;return-1},SAXStrings.indexOfWhitespace=function(a,b,c){if(SAXStrings.isEmpty(a))return-1;b=b||0,c=c||a.length;for(var d=b;c>d;d++)if(-1!=SAXStrings.WHITESPACE.indexOf(a.charAt(d)))return d;return-1},SAXStrings.isEmpty=function(a){return null==a||0==a.length},SAXStrings.lastIndexOfNonWhitespace=function(a,b,c){if(SAXStrings.isEmpty(a))return-1;b=b||0,c=c||a.length;for(var d=c-1;d>=b;d--)if(-1==SAXStrings.WHITESPACE.indexOf(a.charAt(d)))return d;return-1},SAXStrings.replace=function(a,b,c,d,e){return SAXStrings.isEmpty(a)?"":(b=b||0,c=c||a.length,a.substring(b,c).split(d).join(e))},Stack=function(){this.m_arr=new Array},Stack.prototype.clear=function(){this.m_arr=new Array},Stack.prototype.count=function(){return this.m_arr.length},Stack.prototype.destroy=function(){this.m_arr=null},Stack.prototype.peek=function(){return 0==this.m_arr.length?null:this.m_arr[this.m_arr.length-1]},Stack.prototype.pop=function(){if(0==this.m_arr.length)return null;var a=this.m_arr[this.m_arr.length-1];return this.m_arr.length--,a},Stack.prototype.push=function(a){this.m_arr[this.m_arr.length]=a},a.xmlw3cdom_trim=c,a.xmlw3cdom__unescapeString=e,a.xmlw3cdom__escapeString=d}(window);